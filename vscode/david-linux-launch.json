{
    // Use IntelliSense to learn about possible attributes.
    // Hover to view descriptions of existing attributes.
    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
    "version": "0.2.0",
    "configurations": [
        {
            "name": "(gdb) RenderVKL",
            "type": "cppdbg",
            "request": "launch",
            "program": "${workspaceFolder}/build/${command:cmake.buildType}/rendervkl",
            "args": [
                "--scene-vidi3d",
                "../../data/configs/scene_mechhand.json",
                "--integrator pm",
                "--sample-rate 1.00",
                "--num-photons-traced 2^15",
                "--estimator-type beamvk"
            ],
            "stopAtEntry": false,
            "cwd": "${workspaceFolder}/build/${command:cmake.buildType}",
            "environment": [
            ],
            "externalConsole": false,
            "MIMode": "gdb",
            "setupCommands": [
                {
                    "description": "Enable pretty-printing for gdb",
                    "text": "-enable-pretty-printing",
                    "ignoreFailures": true
                },
                {
                    "description":  "Set Disassembly Flavor to Intel",
                    "text": "-gdb-set disassembly-flavor intel",
                    "ignoreFailures": true
                }
            ]
        },
        {
            "name": "(gdb) Renderer",
            "type": "cppdbg",
            "request": "launch",
            "program": "${workspaceFolder}/build/${command:cmake.buildType}/renderapp",
            "args": [
                // "configs/scene_mechhand.json",
                "scene_setting.usda",
                // "optix7-pt"
                // "optix7-rm"
                // "ospray-pt"
                "ospray-rm"
            ],
            "stopAtEntry": false,
            "cwd": "${workspaceFolder}/data",
            "environment": [
                {
                    "name": "LD_LIBRARY_PATH",
                    "value": "/home/weishen/USD/lib:/home/qadwu/Software/Intel/ospray-2.5.0.x86_64.linux/lib:/home/qadwu/Software/ospray-2.8.0.x86_64.linux/lib:${workspaceFolder}/build/${command:cmake.buildType}/common/vidi3d:${env:LD_LIBRARY_PATH}"
                },
                {
                    "name": "DISPLAY",
                    "value": ":1"
                },
                // {
                //     "name": "DISPLAY",
                //     "value": ":2"
                // }
            ],
            "externalConsole": false,
            "MIMode": "gdb",
            "setupCommands": [
                {
                    "description": "Enable pretty-printing for gdb",
                    "text": "-enable-pretty-printing",
                    "ignoreFailures": true
                },
                {
                    "description":  "Set Disassembly Flavor to Intel",
                    "text": "-gdb-set disassembly-flavor intel",
                    "ignoreFailures": true
                }
            ]
        },
        {
            "name": "(Windows) Mini App",
            "type": "cppvsdbg",
            "request": "launch",
            "program": "${workspaceFolder}/build/${command:cmake.buildType}/${command:cmake.buildType}/${input:miniapp}.exe",
            "args": [],
            "stopAtEntry": false,
            "cwd": "${workspaceFolder}/data",
            "environment": [
                {
                    "name": "PATH",
                    "value": "C:/Users/wilso/Documents/Softwares/win/oneapi-tbb-2021.1.1-win/oneapi-tbb-2021.1.1/redist/intel64/vc14;C:/Users/wilso/Documents/Softwares/win/ospray-2.5.0.x86_64.windows/bin;C:/Users/wilso/Documents/Softwares/win/USDInstall/bin;C:/Users/wilso/Documents/Softwares/win/USDInstall/lib;${workspaceFolder}/build/${command:cmake.buildType}/common/vidi3d/${command:cmake.buildType};${env:PATH}"
                }
            ],
            "console": "integratedTerminal"
        },
        {
            "name": "(Windows) Batch Gen Images",
            "type": "cppvsdbg",
            "request": "launch",
            "program": "${workspaceFolder}/build/${command:cmake.buildType}/${command:cmake.buildType}/renderbatch.exe",
            "args": [
                "--max-num-frames", "4",
                "--scene-vidi3d", "../scene_vorts1.json",
            ],
            "stopAtEntry": false,
            "cwd": "${workspaceFolder}/data/outputs",
            "environment": [
                {
                    "name": "PATH",
                    "value": "C:/Users/wilso/Documents/Softwares/win/oneapi-tbb-2021.1.1-win/oneapi-tbb-2021.1.1/redist/intel64/vc14;C:/Users/wilso/Documents/Softwares/win/ospray-2.5.0.x86_64.windows/bin;C:/Users/wilso/Documents/Softwares/win/USDInstall/bin;C:/Users/wilso/Documents/Softwares/win/USDInstall/lib;${workspaceFolder}/build/${command:cmake.buildType}/common/vidi3d/${command:cmake.buildType};${env:PATH}"
                }
            ],
            "console": "integratedTerminal"
        },
        {
            "name": "(Windows) Batch ViDi3D",
            "type": "cppvsdbg",
            "request": "launch",
            "program": "${workspaceFolder}/build/${command:cmake.buildType}/${command:cmake.buildType}/rendervidi3d.exe",
            "args": [
                "4", "scene_engine.json",
            ],
            "stopAtEntry": false,
            "cwd": "${workspaceFolder}/data",
            "environment": [
                {
                    "name": "PATH",
                    "value": "C:/Users/wilso/Documents/Softwares/win/oneapi-tbb-2021.1.1-win/oneapi-tbb-2021.1.1/redist/intel64/vc14;C:/Users/wilso/Documents/Softwares/win/ospray-2.5.0.x86_64.windows/bin;C:/Users/wilso/Documents/Softwares/win/USDInstall/bin;C:/Users/wilso/Documents/Softwares/win/USDInstall/lib;${workspaceFolder}/build/${command:cmake.buildType}/common/vidi3d/${command:cmake.buildType};${env:PATH}"
                }
            ],
            "console": "integratedTerminal"
        },
        {
            "name": "(Windows) Render Example",
            "type": "cppvsdbg",
            "request": "launch",
            "program": "${workspaceFolder}/build/${command:cmake.buildType}/${command:cmake.buildType}/renderapp.exe",
            "args": [
                // "${workspaceFolder}/data/configs/scene_mechhand.json",
                // "${workspaceFolder}/data/configs/scene_heatrelease_1atm.json",
                "${workspaceFolder}/data/scene_setting.usda",
                "${input:device}"
            ],
            "stopAtEntry": false,
            "cwd": "${workspaceFolder}/build/${command:cmake.buildType}/${command:cmake.buildType}",
            "environment": [
                {
                    "name": "PATH",
                    // "value": "C:/Users/wilso/Documents/Softwares/win/oneapi-tbb-2021.1.1-win/oneapi-tbb-2021.1.1/redist/intel64/vc14;C:/Users/wilso/Documents/Softwares/win/ospray-2.5.0.x86_64.windows/bin;C:/Users/wilso/Documents/Softwares/win/USDInstall/bin;C:/Users/wilso/Documents/Softwares/win/USDInstall/lib;${workspaceFolder}/build/${command:cmake.buildType}/common/vidi3d/${command:cmake.buildType};${env:PATH}"
                    "value": "C:/Users/wilso/Documents/Projects/research/ospray/build/Release/install/lib/intel64/vc14;C:/Users/wilso/Documents/Projects/research/ospray/build/Release/install/bin;C:/Users/wilso/Documents/Softwares/win/USDInstall/bin;C:/Users/wilso/Documents/Softwares/win/USDInstall/lib;${workspaceFolder}/build/${command:cmake.buildType}/common/vidi3d/${command:cmake.buildType};${env:PATH}"
                }
            ],
            "console": "integratedTerminal"
        },
        {
            "name": "(Windows) FolVolNet",
            "type": "cppvsdbg",
            "request": "launch",
            "program": "${workspaceFolder}/build/${command:cmake.buildType}/${command:cmake.buildType}/renderfolvolnet",
            "args": [
                "${workspaceFolder}/data/configs/scene_mechhand.json",
                // "${workspaceFolder}/data/configs/scene_heatrelease_1atm.json",
                "${workspaceFolder}/data/models/rt_stbn_of40_traced.pt"
            ],
            "stopAtEntry": false,
            "cwd": "${workspaceFolder}/build/${command:cmake.buildType}/${command:cmake.buildType}",
            "environment": [
                {
                    "name": "PATH",
                    // "value": "C:/Users/wilso/Documents/Softwares/win/TensorRT-8.2.3.0.Windows10.x86_64.cuda-11.4.cudnn8.2/TensorRT-8.2.3.0/lib;C:/Users/wilso/Documents/Softwares/win/TorchTensorRT-v1.1.0/lib;C:/Users/wilso/Documents/Softwares/win/libtorch-win-shared-with-deps-1.11.0+cu113/libtorch-${command:cmake.buildType}/lib;C:/Users/wilso/Documents/Softwares/win/oneapi-tbb-2021.1.1-win/oneapi-tbb-2021.1.1/redist/intel64/vc14;C:/Users/wilso/Documents/Softwares/win/ospray-2.5.0.x86_64.windows/bin;C:/Users/wilso/Documents/Softwares/win/USDInstall/bin;C:/Users/wilso/Documents/Softwares/win/USDInstall/lib;${workspaceFolder}/build/${command:cmake.buildType}/common/vidi3d/${command:cmake.buildType};${env:PATH}"
                    "value": "C:/Users/wilso/Documents/Softwares/win/TensorRT-8.2.3.0.Windows10.x86_64.cuda-11.4.cudnn8.2/TensorRT-8.2.3.0/lib;C:/Users/wilso/Documents/Softwares/win/TorchTensorRT-v1.1.0/lib;C:/Users/wilso/Documents/Softwares/win/libtorch-win-shared-with-deps-1.11.0+cu113/libtorch-${command:cmake.buildType}/lib;C:/Users/wilso/Documents/Projects/research/ospray/build/Release/install/lib/intel64/vc14;C:/Users/wilso/Documents/Projects/research/ospray/build/Release/install/bin;C:/Users/wilso/Documents/Softwares/win/USDInstall/bin;C:/Users/wilso/Documents/Softwares/win/USDInstall/lib;${workspaceFolder}/build/${command:cmake.buildType}/common/vidi3d/${command:cmake.buildType};${env:PATH}"
                }
            ],
            "console": "integratedTerminal"
        },
        {
            "name": "(Windows) CUDA Pt",
            "type": "cppvsdbg",
            "request": "launch",
            "program": "${workspaceFolder}/build/${command:cmake.buildType}/${command:cmake.buildType}/renderpt.exe",
            "args": [
                "heatrelease_1atm.json"
            ],
            "stopAtEntry": false,
            "cwd": "${workspaceFolder}/data",
            "environment": [
                {
                    "name": "PATH",
                    "value": "C:/Users/wilso/Documents/Softwares/win/oneapi-tbb-2021.1.1-win/oneapi-tbb-2021.1.1/redist/intel64/vc14;${workspaceFolder}/build/${command:cmake.buildType}/common/vidi3d/${command:cmake.buildType};${env:PATH}"
                }
            ],
            "console": "integratedTerminal"
        },
        {
            "name": "(Windows) OpenVKL PM",
            "type": "cppvsdbg",
            "request": "launch",
            "program": "${workspaceFolder}/build/${command:cmake.buildType}/${command:cmake.buildType}/renderpm.exe",
            "args": [
                "--device", "${input:device}",
                "--scene-vidi3d",
                "${workspaceFolder}\\data\\configs\\scene_mechhand.json",
                "--max-num-frames 120"
            ],
            "stopAtEntry": false,
            "cwd": "${workspaceFolder}/data",
            "environment": [
                {
                    "name": "PATH",
                    "value": "C:/Users/wilso/Documents/Projects/research/ospray/build/Release/install/lib/intel64/vc14;C:/Users/wilso/Documents/Projects/research/ospray/build/Release/install/bin;C:/Users/wilso/Documents/Softwares/win/USDInstall/bin;C:/Users/wilso/Documents/Softwares/win/USDInstall/lib;${workspaceFolder}/build/${command:cmake.buildType}/common/vidi3d/${command:cmake.buildType};${env:PATH}"
                }
            ],
            "console": "integratedTerminal"
        }
    ],
    "inputs": [
        {
            "type": "pickString",
            "id": "miniapp",
            "description": "Which mini app do you want to run?",
            "options": [
                "exp_mini_ospray",
                "exp_mini_optix7",
                "exp_mini_torch",
            ]
        },
        {
            "type": "pickString",
            "id": "device",
            "description": "Which mini app do you want to run?",
            "options": [
                "optix7-rm",
                "optix7-pt",
                "ospray-rm",
                "ospray-pt",
                "vidi3d",
                "cudapt",
            ]
        },
        {
            "type": "pickString",
            "id": "device-pm",
            "description": "Which mini app do you want to run?",
            "options": [
                "openvkl",
                "cudapm",
            ]
        },
    ]
}